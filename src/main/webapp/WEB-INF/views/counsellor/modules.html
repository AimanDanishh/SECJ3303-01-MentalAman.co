<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="content">

<div class="p-8 bg-slate-50 min-h-screen">

    <!-- HEADER -->
    <div class="flex justify-between items-center mb-6">
        <div>
            <h1 class="text-3xl font-bold">Content Management</h1>
            <p class="text-slate-600">
                Create, edit, and manage learning modules
            </p>
        </div>

        <a th:href="@{/learning/manage/modules/create}"
           class="px-5 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700">
            + Create New Module
        </a>
    </div>

    <!-- MODULE LIST -->
    <div class="bg-white rounded-2xl border shadow-sm">

        <div class="p-6 border-b">
            <h2 class="font-semibold text-lg">
                Learning Modules (<span th:text="${modules.size()}"></span>)
            </h2>
        </div>

        <div class="divide-y">

            <div th:each="module : ${modules}"
                 class="p-6 flex justify-between items-start hover:bg-slate-50 transition">

                <div>
                    <div class="flex items-center gap-3 mb-1">
                        <h3 class="text-lg font-semibold"
                            th:text="${module.title}"></h3>

                        <span class="px-2 py-1 text-xs rounded-full"
                              th:text="${module.locked ? 'draft' : 'published'}"
                              th:classappend="${module.locked} ?
                                'bg-yellow-100 text-yellow-700' :
                                'bg-green-100 text-green-700'">
                        </span>
                    </div>

                    <p class="text-slate-600 text-sm"
                       th:text="${module.description}"></p>

                    <p class="text-xs text-slate-400 mt-1"
                       th:text="'Duration: ' + ${module.duration}"></p>
                </div>

                <!-- ACTIONS -->
                <div class="flex gap-3">
                    <a th:href="@{/learning/manage/modules/edit/{id}(id=${module.id})}"
                       class="text-blue-600 hover:underline">
                        âœï¸
                    </a>

                    <form th:action="@{/learning/manage/modules/delete/{id}(id=${module.id})}"
                          method="post"
                          onsubmit="return confirm('Delete this module?')">
                        <button class="text-red-600">ğŸ—‘</button>
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

</th:block>
</html>
